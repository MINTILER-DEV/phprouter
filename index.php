<?php
// load router
require_once __DIR__ . '/router.php';

// create router
$router = new Router();

/*
|--------------------------------------------------------------------------
| BASIC ROUTES
|--------------------------------------------------------------------------
| use this for simple pages
*/

$router->get('/', function () {
    echo 'home page';
});

$router->get('/about', function () {
    echo 'about page';
});

/*
|--------------------------------------------------------------------------
| ROUTES WITH PARAMETERS
|--------------------------------------------------------------------------
| /user/123 â†’ $id = 123
*/

$router->get('/user/{id}', function ($id) {
    echo "user id: $id";
});

/*
|--------------------------------------------------------------------------
| POST ROUTES
|--------------------------------------------------------------------------
| for forms / api requests
*/

$router->post('/login', function () {
    echo 'logged in';
});

/*
|--------------------------------------------------------------------------
| API STYLE ROUTES
|--------------------------------------------------------------------------
*/

$router->get('/api/ping', function () {
    echo json_encode(['pong' => true]);
});

/*
|--------------------------------------------------------------------------
| 404 PAGE
|--------------------------------------------------------------------------
*/

$router->setNotFoundHandler(function () {
    http_response_code(404);
    echo '404 page not found';
});

/*
|--------------------------------------------------------------------------
| RUN ROUTER
|--------------------------------------------------------------------------
*/

